<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Hari Santri Nasional 2025~ARMADA AL FADILAH üïå</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap"
      rel="stylesheet" />
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      html,
      body {
        height: 100%;
      }
      body {
        font-family: "Poppins", sans-serif;
        color: #05322a;
        background: linear-gradient(
          135deg,
          #e6fff5 0%,
          #c9fff0 40%,
          #ffffff 100%
        );
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
        position: relative;
      }

      /* Decorative blobs */
      .blob {
        position: absolute;
        border-radius: 50%;
        filter: blur(40px);
        opacity: 0.18;
        z-index: 0;
      }
      .blob.b1 {
        width: 360px;
        height: 360px;
        left: -80px;
        top: -60px;
        background: #00c49a;
      }
      .blob.b2 {
        width: 240px;
        height: 240px;
        right: -50px;
        top: 40%;
        background: #009975;
      }
      .blob.b3 {
        width: 160px;
        height: 160px;
        left: 10%;
        bottom: -60px;
        background: #9ef5cf;
      }

      header {
        position: relative;
        z-index: 1;
        text-align: center;
        padding: 56px 20px;
      }
      header h1 {
        font-size: 2.4rem;
        color: #02382f;
        margin-bottom: 6px;
        letter-spacing: 0.4px;
        text-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
      }
      header p {
        color: #03513f;
        opacity: 0.88;
        font-size: 1rem;
      }

      section {
        max-width: 1000px;
        margin: 28px auto;
        padding: 0 20px;
        position: relative;
        z-index: 1;
      }

      .quote {
        background: linear-gradient(
          90deg,
          rgba(255, 255, 255, 0.7),
          rgba(255, 255, 255, 0.55)
        );
        padding: 14px 18px;
        border-radius: 12px;
        margin-bottom: 22px;
        color: #054338;
        font-style: italic;
        text-align: center;
        box-shadow: 0 8px 24px rgba(3, 47, 36, 0.06);
      }

      .cards {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 18px;
      }
      @media (max-width: 900px) {
        .cards {
          grid-template-columns: repeat(2, 1fr);
        }
      }
      @media (max-width: 600px) {
        .cards {
          grid-template-columns: 1fr;
        }
        header h1 {
          font-size: 1.6rem;
        }
      }

      .card {
        background: linear-gradient(
          160deg,
          rgba(255, 255, 255, 0.9),
          rgba(255, 255, 255, 0.82)
        );
        border-radius: 16px;
        padding: 18px 18px 22px;
        position: relative;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(3, 55, 44, 0.06);
        transition: transform 0.28s ease, box-shadow 0.28s ease;
        border-left: 6px solid rgba(0, 196, 154, 0.18);
      }
      .card:hover {
        transform: translateY(-8px);
        box-shadow: 0 18px 40px rgba(3, 55, 44, 0.08);
      }

      .card h2 {
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 1.05rem;
        margin-bottom: 8px;
        color: #02382f;
        font-weight: 600;
      }
      /* hide full paragraph on card front (kept for modal) */
      .card p {
        display: none;
      }

      /* thumbnail front of card */
      .thumb {
        height: 150px;
        border-radius: 10px;
        overflow: hidden;
        margin-bottom: 12px;
        position: relative;
        cursor: pointer;
        border: 1px solid rgba(3, 55, 44, 0.04);
        background: #f6fffb;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .thumb img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
      }
      .thumb .overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(
          180deg,
          rgba(0, 0, 0, 0) 40%,
          rgba(0, 0, 0, 0.22) 100%
        );
        display: flex;
        align-items: flex-end;
        justify-content: center;
        color: #fff;
        padding: 10px;
        font-weight: 600;
        font-size: 0.95rem;
        opacity: 0;
        transition: opacity 0.18s;
      }
      .thumb:hover .overlay {
        opacity: 1;
      }

      /* Icon-only open button */
      .open-frame {
        position: absolute;
        top: 14px;
        right: 14px;
        width: 44px;
        height: 44px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        border: none;
        cursor: pointer;
        background: linear-gradient(180deg, #00c49a, #009975);
        color: #fff;
        font-size: 1.15rem;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        transition: transform 0.18s ease, box-shadow 0.18s ease;
      }
      .open-frame:hover {
        transform: translateY(-3px);
        box-shadow: 0 14px 28px rgba(0, 0, 0, 0.14);
      }
      .open-frame:focus {
        outline: 3px solid rgba(0, 200, 154, 0.18);
      }

      /* Share buttons */
      .share {
        display: flex;
        justify-content: center;
        gap: 12px;
        margin-top: 18px;
      }
      .share button {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 10px 14px;
        border-radius: 999px;
        border: none;
        background: linear-gradient(90deg, #00c49a, #009975);
        color: #fff;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 0 8px 20px rgba(3, 55, 44, 0.08);
        transition: transform 0.18s;
      }
      .share button:hover {
        transform: translateY(-4px);
      }

      /* Modal */
      .modal {
        position: fixed;
        inset: 0;
        display: none;
        align-items: center;
        justify-content: center;
        background: rgba(2, 18, 16, 0.45);
        z-index: 3000;
        padding: 20px;
      }
      .modal.show {
        display: flex;
      }
      .modal-content {
        width: 100%;
        max-width: 760px;
        background: linear-gradient(180deg, rgba(255, 255, 255, 0.98), #ffffff);
        border-radius: 14px;
        padding: 18px 18px 16px;
        color: #05322a;
        box-shadow: 0 30px 80px rgba(3, 55, 44, 0.12);
        transform: translateY(10px);
        transition: transform 0.22s ease, opacity 0.22s;
      }
      .modal .close {
        float: right;
        border: none;
        background: transparent;
        font-size: 20px;
        color: #114b3f;
        cursor: pointer;
        padding: 6px;
      }
      .modal-content h2 {
        font-size: 1.18rem;
        margin-bottom: 6px;
        color: #02382f;
      }
      .modal-text {
        color: #114b3f;
        line-height: 1.8;
        font-size: 1rem;
        margin-top: 8px;
      }

      .modal-actions {
        display: flex;
        gap: 10px;
        justify-content: center;
        margin-top: 14px;
      }

      footer {
        position: relative;
        z-index: 1;
        text-align: center;
        padding: 18px 12px;
        color: #063a2d;
        background: transparent;
        font-size: 0.92rem;
        margin-top: 26px;
      }

      /* small helpers */
      .emoji {
        font-size: 1.12rem;
      }

      /* dokumentasi gallery */
      .gallery {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 10px;
      }
      .gallery-item {
        width: 120px;
        height: 80px;
        overflow: hidden;
        border-radius: 8px;
        background: #f6fffb;
        display: flex;
        align-items: center;
        justify-content: center;
        border: 1px solid rgba(3, 55, 44, 0.04);
      }
      .gallery-item img,
      .gallery-item video {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
      }
      .upload-hint {
        font-size: 0.92rem;
        color: #0b5a46;
        margin-top: 8px;
      }
      .file-input-inline {
        margin-top: 10px;
        display: flex;
        gap: 8px;
        align-items: center;
      }
      .file-input-inline input[type="file"] {
        padding: 6px;
      }
      @media (max-width: 500px) {
        .gallery-item {
          width: 100px;
          height: 70px;
        }
        .thumb {
          height: 120px;
        }
      }
    </style>
  </head>
  <body>
    <div class="blob b1" aria-hidden="true"></div>
    <div class="blob b2" aria-hidden="true"></div>
    <div class="blob b3" aria-hidden="true"></div>

    <header>
      <h1>Selamat Hari Santri Nasional 2025</h1>
      <p>‚ÄúSantri Harmoni Negeri‚Äù ‚Äî 22 Oktober 2025</p>
    </header>

    <section>
      <div class="quote">
        ‚ÄúSantri bukan hanya pejuang ilmu, tapi juga penjaga keutuhan bangsa dan
        pembawa cahaya peradaban.‚Äù ‚ú®
      </div>

      <div class="cards">
        <div id="card-sejarah" class="card" data-title="Sejarah Hari Santri">
          <h2><span class="emoji">üìÖ</span> Sejarah Hari Santri</h2>

          <div
            class="thumb"
            role="button"
            tabindex="0"
            onclick="openFrame('card-sejarah')"
            onkeydown="if(event.key==='Enter')openFrame('card-sejarah')">
            <img
              src="https://3.bp.blogspot.com/-4WEW5QHshCI/WiO1zHQVgNI/AAAAAAAAJX8/XFR8rsl0bfcJuhCx1t81CO9zvGTba8H9ACLcBGAs/s1600/Masuk%252C%2BStrategi%252C%2Bdan%2BPerkembangan%2BDakwah%2Bdi%2BIndonesia.jpg"
              alt="Sejarah" />
            <div class="overlay">Klik untuk melihat keterangan</div>
          </div>

          <p>
            Hari Santri Nasional diperingati setiap
            <strong>22 Oktober</strong> untuk mengenang peran besar para santri
            dalam perjuangan kemerdekaan Indonesia. Tanggal ini merujuk pada
            ‚Äú<em>Resolusi Jihad</em>‚Äù yang dikeluarkan KH. Hasyim Asy‚Äôari tahun
            1945, yang menjadi pemicu semangat perlawanan terhadap penjajah.
          </p>
          <button
            class="open-frame"
            onclick="openFrame('card-sejarah')"
            aria-label="Buka Sejarah">
            üîç
          </button>
        </div>

        <div id="card-tema" class="card" data-title="Tema Hari Santri 2025">
          <h2><span class="emoji">üåø</span> Tema Hari Santri 2025</h2>

          <div
            class="thumb"
            role="button"
            tabindex="0"
            onclick="openFrame('card-tema')"
            onkeydown="if(event.key==='Enter')openFrame('card-tema')">
            <img
              src="https://blog.pengajartekno.co.id/wp-content/uploads/2023/05/Gambar-Santri-Kartun-24.jpg"
              alt="Tema" />
            <div class="overlay">Klik untuk melihat keterangan</div>
          </div>

          <p>
            Tema tahun ini adalah <strong>‚ÄúSantri Harmoni Negeri‚Äù</strong>,
            menggambarkan peran santri sebagai penjaga persatuan dan keberagaman
            Indonesia. Santri diharapkan mampu menjadi agen perdamaian,
            toleransi, dan pembangunan bangsa yang berakhlak mulia.
          </p>
          <button
            class="open-frame"
            onclick="openFrame('card-tema')"
            aria-label="Buka Tema">
            üîç
          </button>
        </div>

        <div
          id="card-pesan"
          class="card"
          data-title="Pesan untuk Generasi Muda">
          <h2><span class="emoji">ü§ù</span> Pesan untuk Generasi Muda</h2>

          <div
            class="thumb"
            role="button"
            tabindex="0"
            onclick="openFrame('card-pesan')"
            onkeydown="if(event.key==='Enter')openFrame('card-pesan')">
            <img
              src="https://ceritasantri.id/wp-content/uploads/2020/07/27juli2020-scaled.jpg"
              alt="Pesan" />
            <div class="overlay">Klik untuk melihat keterangan</div>
          </div>

          <p>
            Pelihara ilmu, akhlak, dan semangat kebangsaan. Santri masa kini
            dapat menjadi penggerak perubahan positif di bidang sosial,
            pendidikan, dan teknologi tanpa melupakan tradisi keilmuan.
          </p>
          <button
            class="open-frame"
            onclick="openFrame('card-pesan')"
            aria-label="Buka Pesan">
            üîç
          </button>
        </div>

        <!-- New Dokumentasi card -->
        <div
          id="card-dokumentasi"
          class="card"
          data-title="Dokumentasi Kegiatan">
          <h2><span class="emoji">üì∏</span> Dokumentasi Kegiatan</h2>

          <div
            class="thumb"
            role="button"
            tabindex="0"
            onclick="openFrame('card-dokumentasi')"
            onkeydown="if(event.key==='Enter')openFrame('card-dokumentasi')">
            <img
              src="https://img.lovepik.com/element/40159/0386.png_1200.png"
              alt="Dokumentasi" />
            <div class="overlay">Klik untuk melihat / unggah</div>
          </div>

          <p>
            Unggah foto atau video dokumentasi kegiatanmu di sini. Bisa multi
            file (foto & video). Gunakan tombol untuk melihat preview penuh.
          </p>
          <div style="margin-top: 10px">
            <input
              type="file"
              id="file-input-card-dokumentasi"
              accept="image/*,video/*"
              multiple
              onchange="handleCardFiles(this.files, 'card-dokumentasi')"
              aria-label="Unggah dokumentasi" />
            <div style="font-size: 0.9rem; color: #0b5a46; margin-top: 8px">
              File disimpan sementara untuk preview (tidak diupload ke server).
            </div>
          </div>
          <button
            class="open-frame"
            onclick="openFrame('card-dokumentasi')"
            aria-label="Buka Dokumentasi">
            üîç
          </button>
        </div>
      </div>

      <div class="share" style="margin-bottom: 6px">
        <button onclick="shareWA()">üì≤ Bagikan ke WhatsApp</button>
        <button onclick="copyLink()">üîó Salin Link</button>
      </div>
    </section>

    <!-- Modal/frame -->
    <div id="frameModal" class="modal" aria-hidden="true">
      <div class="modal-content" role="dialog" aria-modal="true">
        <button class="close" onclick="closeFrame()" aria-label="Tutup">
          &times;
        </button>
        <div id="frameBody" aria-live="polite"></div>
        <div class="modal-actions">
          <button onclick="shareWA()">üì≤ Bagikan ke WhatsApp</button>
          <button onclick="copyLink()">üîó Salin Link</button>
        </div>
      </div>
    </div>

    <footer>
      &copy; 2025 | Hari Santri Nasional 22 Oktober ‚Ä¢ ARMADA AL FADILAH üïå
    </footer>

    <script>
      // menyimpan file yang dipilih tiap card (di memory browser saja)
      const storedFiles = {}; // { cardId: [File, ...] }
      // menampung object URLs agar bisa direvoke saat modal ditutup
      let modalObjectURLs = [];

      function handleCardFiles(fileList, cardId) {
        storedFiles[cardId] = Array.from(fileList || []);
        const count = storedFiles[cardId].length;
        if (count) {
          console.log(count + " file disimpan untuk " + cardId);
        }
      }

      function openFrame(cardId) {
        if (cardId === "card-dokumentasi") {
          openDokumentasiFrame(cardId);
          history.pushState(null, "", "#frame-" + cardId);
          document
            .getElementById("frameModal")
            .setAttribute("aria-hidden", "false");
          return;
        }
        const el = document.getElementById(cardId);
        if (!el) return;
        const titleEl = el.querySelector("h2");
        const bodyEl = el.querySelector("p");
        const title = titleEl ? titleEl.innerText : el.dataset.title || "";
        const body = bodyEl ? bodyEl.innerHTML : "";
        document.getElementById("frameBody").innerHTML =
          "<h2>" +
          escapeHtml(title) +
          '</h2><div class="modal-text">' +
          body +
          "</div>";
        document.getElementById("frameModal").classList.add("show");
        history.pushState(null, "", "#frame-" + cardId);
        document
          .getElementById("frameModal")
          .setAttribute("aria-hidden", "false");
      }

      function openDokumentasiFrame(cardId) {
        clearModalObjectURLs();

        const title = "Dokumentasi Kegiatan";
        const files = storedFiles[cardId] || [];
        let html = "<h2>" + escapeHtml(title) + "</h2>";
        html += '<div class="modal-text">';
        html +=
          '<div class="upload-hint">Unggah foto/video (image/*, video/*). File hanya disimpan di browser untuk preview.</div>';
        html +=
          '<div class="file-input-inline"><input type="file" id="modal-file-input" accept="image/*,video/*" multiple onchange="modalFileSelect(event, \'' +
          cardId +
          "')\"></div>";
        html += '<div id="modal-gallery" class="gallery">';
        html += "</div>";
        html += "</div>";
        document.getElementById("frameBody").innerHTML = html;
        document.getElementById("frameModal").classList.add("show");

        renderModalGallery(cardId);
      }

      function openFrameWithoutHash(cardId) {
        if (cardId === "card-dokumentasi") {
          openDokumentasiFrame(cardId);
          document
            .getElementById("frameModal")
            .setAttribute("aria-hidden", "false");
          return;
        }
        const el = document.getElementById(cardId);
        if (!el) return;
        const titleEl = el.querySelector("h2");
        const bodyEl = el.querySelector("p");
        const title = titleEl ? titleEl.innerText : el.dataset.title || "";
        const body = bodyEl ? bodyEl.innerHTML : "";
        document.getElementById("frameBody").innerHTML =
          "<h2>" +
          escapeHtml(title) +
          '</h2><div class="modal-text">' +
          body +
          "</div>";
        document.getElementById("frameModal").classList.add("show");
        document
          .getElementById("frameModal")
          .setAttribute("aria-hidden", "false");
      }

      function renderModalGallery(cardId) {
        const gallery = document.getElementById("modal-gallery");
        if (!gallery) return;
        gallery.innerHTML = "";
        const files = storedFiles[cardId] || [];
        if (!files.length) {
          gallery.innerHTML =
            '<div style="color:#0b5a46">Belum ada file. Silakan unggah menggunakan tombol di atas atau input pada kartu.</div>';
          return;
        }
        files.forEach((file, idx) => {
          const item = document.createElement("div");
          item.className = "gallery-item";
          const type = file.type || "";
          const url = URL.createObjectURL(file);
          modalObjectURLs.push(url);
          if (type.startsWith("image/")) {
            const img = document.createElement("img");
            img.src = url;
            img.alt = file.name || "image-" + idx;
            item.appendChild(img);
          } else if (type.startsWith("video/")) {
            const vid = document.createElement("video");
            vid.src = url;
            vid.controls = true;
            vid.muted = true;
            item.appendChild(vid);
          } else {
            const span = document.createElement("div");
            span.style.padding = "8px";
            span.textContent = file.name || "file";
            item.appendChild(span);
          }
          gallery.appendChild(item);
        });
      }

      function modalFileSelect(e, cardId) {
        const files = Array.from(e.target.files || []);
        if (!files.length) return;
        storedFiles[cardId] = files;
        renderModalGallery(cardId);
        const cardInput = document.getElementById(
          "file-input-card-dokumentasi"
        );
        if (cardInput) {
          console.log("File di modal disimpan untuk", cardId);
        }
      }

      function closeFrame() {
        document.getElementById("frameModal").classList.remove("show");
        document
          .getElementById("frameModal")
          .setAttribute("aria-hidden", "true");
        clearModalObjectURLs();
        if (location.hash && location.hash.startsWith("#frame-")) {
          history.replaceState(null, "", location.pathname + location.search);
        }
      }

      function clearModalObjectURLs() {
        try {
          modalObjectURLs.forEach((u) => URL.revokeObjectURL(u));
        } catch (e) {}
        modalObjectURLs = [];
      }

      window.addEventListener("hashchange", function () {
        const h = location.hash.replace("#", "");
        if (h && h.startsWith("frame-")) {
          const id = h.replace("frame-", "");
          openFrameWithoutHash(id);
        } else {
          closeFrame();
        }
      });

      window.addEventListener("load", function () {
        const h = location.hash.replace("#", "");
        if (h && h.startsWith("frame-")) {
          const id = h.replace("frame-", "");
          openFrameWithoutHash(id);
        }
      });

      function shareWA() {
        const url = window.location.href;
        const text = `üïå Selamat Hari Santri Nasional 2025 üáÆüá©\n\nAyo rayakan semangat santri untuk negeri!\n\nKunjungi: ${url}`;
        window.open(
          `https://api.whatsapp.com/send?text=${encodeURIComponent(text)}`,
          "_blank"
        );
      }

      function copyLink() {
        const url = window.location.href;
        if (navigator.clipboard && navigator.clipboard.writeText) {
          navigator.clipboard.writeText(url).then(
            () => {
              alert("‚úÖ Link berhasil disalin, siap dibagikan!");
            },
            () => {
              fallbackCopy(url);
            }
          );
        } else {
          fallbackCopy(url);
        }
      }

      function fallbackCopy(text) {
        const ta = document.createElement("textarea");
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        try {
          document.execCommand("copy");
          alert("‚úÖ Link berhasil disalin, siap dibagikan!");
        } catch (e) {
          alert(
            "Gagal menyalin otomatis. Silakan salin secara manual: " + text
          );
        }
        document.body.removeChild(ta);
      }

      document
        .getElementById("frameModal")
        .addEventListener("click", function (e) {
          if (e.target === this) closeFrame();
        });

      window.addEventListener("popstate", function () {
        const h = location.hash.replace("#", "");
        if (!h || !h.startsWith("frame-")) closeFrame();
      });

      window.addEventListener("keydown", function (e) {
        if (e.key === "Escape") closeFrame();
      });

      function escapeHtml(str) {
        return String(str)
          .replace(/&/g, "&amp;")
          .replace(/</g, "&lt;")
          .replace(/>/g, "&gt;")
          .replace(/"/g, "&quot;")
          .replace(/'/g, "&#39;");
      }
    </script>
  </body>
</html>
